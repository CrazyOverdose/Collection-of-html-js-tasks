<HTML>
<BODY>
<canvas id="lab03" width="2000" height="2000">
</canvas>

<script>
function Line(x0, y0, x1, y1) {
	var pw=1;
	
	var dx = Math.abs(x1-x0);
    	var dy = Math.abs(y1-y0);
   	var sx = (x0 < x1) ? 1 : -1;
   	var sy = (y0 < y1) ? 1 : -1;
   	var err = dx-dy;
   	while (!((x0==x1) && (y0==y1))) {
		ctx.fillStyle = "#8A2BE2";
    		ctx.fillRect(x0,y0,pw,pw);
    		var err2 = 2*err;

    		if (err2 > -dy){
			err -= dy; 
			x0  += sx; 
		}
    		if (err2 < dx){
			err += dx; 
			y0  += sy;
		}
   	}	
}
</script>

<script>
	var flag = 0;
	var canvas = document.getElementById("lab03");
        var ctx = canvas.getContext("2d");
	canvas.addEventListener('click', function(event){
		if (!flag){
			x = event.offsetX;
			y = event.offsetY;
			flag = 1;	
		}
		else {
			x1 = event.offsetX;
                	y1 = event.offsetY;
			Line(x,y,x1,y1);
			flag = 0;
		}
	
	});
</script>
</BODY>
</HTML>
